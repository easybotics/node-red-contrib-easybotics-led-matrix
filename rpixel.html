
<script type="text/javascript">
	RED.nodes.registerType('rled-matrix', {
		category: 'config', 
		defaults: {
			height: {value:64, required:true}, 
			width:  {value:64, required:true},
			chained: {value:2, required:true}, 
			parallel: {value:1, required:true},
			mapping: {value:"adafruit-hat-pwm", required:true},
		},
		label: function() { 
			return "LED MATRIX";
		}
	});
</script> 

<script type="text/x-red" data-template-name="rled-matrix">
	<div class="form-row">
		<label for="node-config-input-width"><i class="icon-bookmark"></i> Width</label> 
		<input type="text" id="node-config-input-width">
	</div> 
	<div class="form-row">
		<label for="node-config-input-height"><i class="icon-bookmark"></i> Height</label> 
		<input type="text" id="node-config-input-height"> 
	</div> 
	<div class="form-row">
		<label for="node-config-input-chained"><i class="icon-bookmark"></i> Chained Panels</label> 
		<input type="text" id="node-config-input-chained"> 
	</div> 

	<div class="form-row">
		<label for="node-config-input-parallel"><i class="icon-bookmark"></i> Parallel Panels</label> 
		<input type="text" id="node-config-input-parallel"> 
	</div> 

	<div class="form-row">
		<label for="node-config-input-mapping"><i class="icon-bookmark"></i> Hardware Mapping</label> 
		<input type="text" id="node-config-input-mapping"> 
	</div> 



</script>


<!-- 
	this block describes  the appearance of the node itself 
	and also what type of settings it holds 
	also the category, config is a special category; all others are arbitrary 
--> 

<script type="text/javascript">
    RED.nodes.registerType('rpixel',{
        category: 'function',
        color: '#F8FF00',
        defaults: {
            name: {value:""},
			color: {value:"haa"},
			matrix: { type:'rled-matrix'},
        },
        inputs:1,
        outputs:0,
        icon: "file.png",
        label: function() {
            return this.name||"rpixel to matrix";
        }
    });
</script>

<!-- 
	this block describes the settings page where we can select which config nodes to bind 
	and other paramters we have previously mentioned in the 'defaults' block up there ^ 
--> 
<script type="text/x-red" data-template-name="rpixel">
    <div class="form-row">
        <label for="node-config-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
	<div class='form-row'>
		<label for="node-config-input-matrix"><i class='fa fa-tag'></i> Display</label>
		<input type='text' id='node-input-matrix'/>
	</div>
</script>

<!-- 
	this block describes the help text 
--> 

<script type="text/x-red" data-help-name="rpixel">
    <p>prints a pixel on the matrix buffer, refresh the matrix to see the result </p>
</script>

<script type="text/javascript"> 
	RED.nodes.registerType("rrefresh-matrix",  
	{
		category: 'function', 
		color: '#F8FF00', 
		defaults: 
		{
			name: {value:""}, 
			matrix: {type: 'rled-matrix'}, 
		}, 
		inputs:1, 
		outputs:0, 
		icon: "file.png", 
		label: function () 
		{
			return this.name || "rrefresh-matrix"; 
		} 
	}); 
</script> 

<script type="text/x-red" data-template-name="rrefresh-matrix"> 
	<div class="form-row"> 
		<label for="node-config-input-name"> <i class="icon-tag"></i> Name </label> 
		<input type="text" id="node-input-name" placeholder="Name"> 
	</div>  
	
	<div class="form-row"> 
		<label for="node-config-input-matrix"><i class='fa fa-tag'></i> Display </label> 
		<input type="text" id="node-input-matrix"/> 
	</div> 
</script> 

<script type="text/x-red" data-help-name="rpixel"> 
	<p> updates the display with vysnc </p> 
</script> 

<script type="text/javascript"> 
	RED.nodes.registerType('rimage-to-pixels',  
	{
		category: 'function', 
		color: '#F8FF00', 

		defaults: 
		{
			name: {value:""}, 
			file: {value:""}, 
		}, 
		
		inputs:1, 
		outputs:1, 
		icon: "file.png", 
		label: function() 
		{
			return this.name || "rimage to pixels"; 
		}
	}); 
</script> 

<script type="text/x-red" data-template-name="rimage-to-pixels"> 
	<div class="form-row">
		<label for="node-config-input-name"> <i class="icon-tag"></i> Name </label> 
		<input type="text" id="node-input-name" placeholder="Name"> 
	</div> 

	<div class="form-row"> 
		<label for="node-config-input-file"> <i class="icon-tag"></i> File </label> 
		<input type="text" id="node-input-file" placeholder="File://"> 
	</div> 
</script> 


<script type="text/javascript"> 
	RED.nodes.registerType("rclear-matrix", 
	{
		category: 'function', 
		color: '#F8FF00', 
		defaults: 
		{
			name: {value:""}, 
			matrix: {type: "rled-matrix"}, 
		}, 
		inputs:1, 
		outputs:0, 
		icon: "file.png", 
		label: function() 
		{
			return this.name || "led-matrix";
		}
	}); 
</script> 

<script type="text/x-red" data-template-name = "rclear-matrix"> 
	<div class="form-row">
		<label for="node-config-input-name"> <i class="icon-tag"></i> Name </label> 
		<input type="text" id="node-input-name" placeholder="Name"> 
	</div> 

	<div class="form-row"> 
		<label for="node-config-input-matrix"><i class='fa fa-tag'></i> Display </label> 
		<input type="text" id="node-input-matrix"/>
	</div> 
</script> 

<script type="text/x-red" data-help-name="rclear-matrix"> 
	<p> clear pixels off the display </p> 
</script>


<script type="text/javascript">
    RED.nodes.registerType('text',{
        category: 'function',
        color: '#a6bbcf',
        defaults: {
            name: {value:""},
			matrix: { type:'led-matrix'},
        },
        inputs:1,
        outputs:0,
        icon: "file.png",
        label: function() {
            return this.name||"text to matrix";
        }
    });
</script>



<script type="text/x-red" data-template-name="rtext"> 
    <div class="form-row">
        <label for="node-config-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
	<div class='form-row'>
		<label for="node-config-input-matrix"><i class='fa fa-tag'></i> Display</label>
		<input type='text' id='node-input-matrix'/>
	</div>
</script>

<script type="text/x-red" data-help-name="rtext">
    <p>prints text to the matrix buffer, refresh the matrix to see the result </p>
</script>
